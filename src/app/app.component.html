
<mdb-navbar #navbar SideClass="navbar navbar-expand-lg navbar-dark indigo fixed-top scrolling-navbar" class="main-nav">
  <mdb-navbar-brand>
    <a class="navbar-brand" routerLink="/" (click)="changePage('home')" mdbWavesEffect>
      <img src="{{imageUrl}}top_logo.png" width="100px" height="50px">
    </a>
  </mdb-navbar-brand>

  <links>
    <ul class="navbar-nav mr-auto">

      <li *ngFor="let page of pages; let i = index" class="nav-item" [ngClass]="{'active active-page': currentPage === page[1]}">
        <a class="nav-link waves-light" routerLink="/{{page[1]}}" mdbWavesEffect (click)="changePage(page[1])">
          <i *ngIf="i === 0" class="fas fa-home"></i>
          <i *ngIf="i === 1" class="fas fa-building"></i>
          <i *ngIf="i === 2" class="fas fa-search-dollar"></i>
          <i *ngIf="i === 3" class="fas fa-clipboard-list"></i>
          {{page[0]}}
        </a>
      </li>

      <li *ngIf="!loggedIn" class="nav-item cool-link">
        <a class="nav-link waves-light" mdbWavesEffect (click)="frame.show()">
          <i class="fas fa-sign-in-alt"></i> Login
        </a>
      </li>

      <li *ngIf="loggedIn" class="nav-item cool-link">
        <a class="nav-link waves-light" routerLink="/" mdbWavesEffect (click)="logoutUser()">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </li>
    </ul>

    <ul class="navbar-nav mr-auto">
      <li *ngIf="loggedIn" class="navbar-text nav-item">
        <a class="nav-link waves-light">
          Welcome, {{email}}
        </a>
      </li>
      <li class="navbar-text nav-item cool-link">
        <a class="nav-link waves-light" mdbWavesEffect (click)="feedbackframe.show()">
          <i class="fas fa-comment"></i> Feedback
        </a>
      </li>
    </ul>

  </links>
</mdb-navbar>

<router-outlet></router-outlet>

<div class="footer-divider d-print-none"></div>

<!-- Footer -->
<footer class="page-footer font-small blue fixed-bottom">

  <!-- Copyright -->
  <div class="footer-copyright text-center indigo py-3">
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

<!--Feedback Modal-->
<div mdbModal #feedbackframe="mdbModal" class="modal fade left" tabindex="-1" role="dialog" [config]="{backdrop: false}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold"><i class="far fa-comment-dots"></i> Send Your Feedback</h4>
        <button type="button" class="close" data-dismiss="modal" (click)="feedbackframe.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <form #loginForm="ngForm" (ngSubmit)="sendFeedback()" novalidate>

        <div class="modal-body mx-3">

          <div class="md-form mb-5">
            <i class="far fa-user prefix grey-text"></i>
            <input id="email" type="email" class="form-control" [mdbValidate]="false"
                   [(ngModel)]="commentEmail" mdbInputDirective name="email">
            <label for="email">From</label>
          </div>

          <div class="md-form">
            <i class="fa fa-pencil prefix grey-text"></i>
            <textarea type="text" id="form8" class="md-textarea form-control" rows="2" mdbInputDirective
                      [mdbValidate]="false" [formControl]="commentFormControl"></textarea>
            <label for="form8">Your Comments</label>
          </div>

        </div>
        <div class="modal-footer d-flex justify-content-center">
          <button mdbBtn color="default" class="btn blue-gradient" mdbWavesEffect>
            <i class="far fa-paper-plane"></i> Send
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!--Login Modal-->
<div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog" [config]="{backdrop: false}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Sign in</h4>
        <button type="button" class="close" data-dismiss="modal" (click)="frame.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <blockquote class="blockquote bq-primary text-center" *ngIf="loginMessage !== ''">
        <h2 class="bq-title"><i class="fas fa-user-lock"></i> {{loginMessage}} </h2>
      </blockquote>

      <form #loginForm="ngForm" (ngSubmit)="loginUser()" novalidate>
        <div class="modal-body mx-3">
          <div class="md-form mb-5">
            <i class="fa fa-envelope prefix grey-text"></i>
            <input type="email" id="defaultForm-email" name="email" [mdbValidate]="false" [formControl]="loginFormModalEmail" class="form-control" mdbInputDirective>
            <label data-error="wrong" data-success="right" for="defaultForm-email">Your email</label>
          </div>

          <div class="md-form mb-4">
            <i class="fa fa-lock prefix grey-text"></i>
            <input type="password" id="defaultForm-pass" name="password" [mdbValidate]="false" [formControl]="loginFormModalPassword" class="form-control" mdbInputDirective>
            <label data-error="wrong" data-success="right" for="defaultForm-pass">Your password</label>
          </div>

        </div>
        <div class="modal-footer d-flex justify-content-center">
          <button mdbBtn color="default" class="btn blue-gradient" mdbWavesEffect>Login</button>
        </div>
      </form>
    </div>
  </div>
</div>
